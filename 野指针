#define _CRT_SECURE_NO_WARNINGS 1
#include <stdio.h>
int* test()
{
	int a = 0;
	return &a;
}
int main()
{
	//野指针概念：指针指向的位置是不可知的（随机，不确定，无明确限制）

	//第一种：指针未初始化
	int* p;//局部的指针变量未初始化，默认为随机值
	*p = 10;//随机找了一块内存将值存进去（未知地址）
	//这种写法是非法的
	 
	//第二种：指针越界访问
	int arr[10] = { 0 };
	int* a = arr;
	int b = 0;
	for (b = 0;b < 12;b++)
	{
		a++;
	}
	//这种情况下，a会跃出arr的范围，造成越界，即访问非法空间
	
	//第三种：指针指向的空间释放
	int* c = test();
	//test函数放于main函数之外
	//当c接收到a的地址后，函数内部变量a已经被销毁
	*c = 20;
	//此时追溯到的地址已经不再是a的地址，属于非法地址

	//解决方法：
	// 1.指针初始化
	// 2.小心指针越界
	// 3.指针指向的空间释放及时设置NULL
	// 4.指针使用之前检查有效性
	return 0;
}
